{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\DELL PRECISION 5530\\\\Documents\\\\dev\\\\demo-bookList\\\\book-list\\\\src\\\\Pages\\\\Login.js\";\nimport React, { Component } from 'react';\nimport { Container, Alert } from 'reactstrap';\nimport { useLocation, Redirect } from \"react-router-dom\";\nimport { BookContext } from '../Contexts/Book';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport '../Styles/Login.css';\nexport default class extends Component {\n  // let query = useQuery();\n  // let name = query.get('name');\n  constructor(props) {\n    super(props);\n    this.state = {\n      user: [{\n        name: '',\n        isValid: false\n      }, {\n        password: '',\n        isValid: false\n      }]\n    };\n    this.redirect = false;\n    this.onChangeName = this.onChangeName.bind(this);\n    this.onChangePassword = this.onChangePassword.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n  }\n\n  onChangeName(e) {\n    this.setState({\n      user: [{\n        name: e.target.value,\n        isValid: false\n      }, ...this.state.user]\n    });\n  }\n\n  onChangePassword(e) {\n    this.setState({\n      user: [{\n        password: e.target.value,\n        isValid: false\n      }, ...this.state.user]\n    });\n  }\n\n  onSubmit(e) {\n    e.preventDefault();\n    const {\n      user\n    } = this.state;\n    const {\n      users\n    } = this.props;\n    var checkUser = users.find(userItem => userItem.name === user[0].name);\n\n    if (!checkUser) {\n      this.setState({\n        user: [...user, {\n          name: user[0].name,\n          isValid: true\n        }]\n      });\n      return;\n    }\n\n    if (user[1].password !== checkUser.password) {\n      this.setState({\n        user: [...user, {\n          password: user[1].password,\n          isValid: true\n        }]\n      });\n      return;\n    }\n\n    this.redirect = true;\n  }\n\n  render() {\n    const {\n      user\n    } = this.state;\n    return /*#__PURE__*/React.createElement(Container, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.onSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 26\n      }\n    }, \"Account Login\")), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 21\n      }\n    }, user[0].isValid && /*#__PURE__*/React.createElement(Alert, {\n      color: \"danger\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 46\n      }\n    }, \"User is not exist\"), user[1].isValid && /*#__PURE__*/React.createElement(Alert, {\n      color: \"danger\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 46\n      }\n    }, \"Wrong password\")), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      for: \"name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 25\n      }\n    }, \"User Name\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 60\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      id: \"name\",\n      name: \"name\",\n      value: user[0].name,\n      onChange: this.onChangeName,\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      for: \"password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 25\n      }\n    }, \"Password\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 63\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"password\",\n      id: \"password\",\n      name: \"password\",\n      value: user[1].password,\n      onChange: this.onChangePassword,\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 29\n      }\n    }, \"Login\"), this.redirect && /*#__PURE__*/React.createElement(Redirect, {\n      to: \"/\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 48\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 25\n      }\n    }, \"Are you new? \"), /*#__PURE__*/React.createElement(\"a\", {\n      href: \"/create\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 25\n      }\n    }, \"Sign Up\"))));\n  }\n\n} // function useQuery() {\n//     return new URLSearchParams(useLocation().search);\n// }\n// function Validate() {\n//     let query = useQuery();\n//     let name = query.get('name');\n//     let password = query.get('password');\n//     return (\n//         <div>\n//             <BookContext.Consumer>\n//                 {({ users }) => {\n//                     var user = users.find(user => user.name === name);\n//                     if (!user) {\n//                         return <Alert color=\"danger\">User is not exist</Alert>\n//                     }\n//                     if (user.password !== password) {\n//                         return <Alert color=\"danger\">Wrong password</Alert>\n//                     }  \n//                     return <Redirect to=\"/\" />\n//                 }}\n//             </BookContext.Consumer>\n//         </div>\n//     );\n// }","map":{"version":3,"sources":["C:/Users/DELL PRECISION 5530/Documents/dev/demo-bookList/book-list/src/Pages/Login.js"],"names":["React","Component","Container","Alert","useLocation","Redirect","BookContext","constructor","props","state","user","name","isValid","password","redirect","onChangeName","bind","onChangePassword","onSubmit","e","setState","target","value","preventDefault","users","checkUser","find","userItem","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { \r\n    Container,\r\n    Alert\r\n} from 'reactstrap';\r\nimport { useLocation, Redirect } from \"react-router-dom\";\r\n\r\nimport { BookContext } from '../Contexts/Book';\r\n\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport '../Styles/Login.css';\r\n\r\nexport default class extends Component {\r\n    // let query = useQuery();\r\n    // let name = query.get('name');\r\n    constructor(props) {\r\n        super(props);\r\n        \r\n        this.state = {\r\n            user: [\r\n                {name: '', isValid: false}, \r\n                {password: '', isValid: false}\r\n            ]\r\n        };\r\n\r\n        this.redirect = false;\r\n\r\n        this.onChangeName = this.onChangeName.bind(this);\r\n        this.onChangePassword = this.onChangePassword.bind(this);\r\n        this.onSubmit = this.onSubmit.bind(this);\r\n    }\r\n\r\n    onChangeName(e) {\r\n        this.setState({\r\n            user: [\r\n                {name: e.target.value, isValid: false}, \r\n                ...this.state.user\r\n            ]\r\n        });\r\n    }\r\n\r\n    onChangePassword(e) {\r\n        this.setState({\r\n            user: [\r\n                {password: e.target.value, isValid: false}, \r\n                ...this.state.user\r\n            ]\r\n        });\r\n    }\r\n\r\n    onSubmit(e) {\r\n        e.preventDefault();\r\n\r\n        const { user } = this.state;\r\n        const { users } = this.props;\r\n\r\n        var checkUser = users.find(userItem => userItem.name === user[0].name);\r\n\r\n        if (!checkUser) {\r\n            this.setState({\r\n                user: [\r\n                    ...user,\r\n                    {name: user[0].name, isValid: true}\r\n                ]\r\n            });\r\n            return;\r\n        }\r\n\r\n        if (user[1].password !== checkUser.password) {\r\n            this.setState({\r\n                user: [\r\n                    ...user,\r\n                    {password: user[1].password, isValid: true}\r\n                ]\r\n            });\r\n            return;\r\n        }\r\n\r\n        this.redirect = true;\r\n    }\r\n\r\n    render() {\r\n        const { user } = this.state;\r\n        return (\r\n            <Container>\r\n                <form onSubmit={this.onSubmit}>\r\n                    <div><h2>Account Login</h2></div>\r\n                    <div>\r\n                        { user[0].isValid && <Alert color=\"danger\">User is not exist</Alert>}\r\n                        { user[1].isValid && <Alert color=\"danger\">Wrong password</Alert>}\r\n                    </div>\r\n                    <div>\r\n                        <label for=\"name\">User Name</label><br />\r\n                        <input \r\n                            type=\"text\" \r\n                            id=\"name\" \r\n                            name=\"name\" \r\n                            value={user[0].name} \r\n                            onChange={this.onChangeName}\r\n                            required \r\n                        />\r\n                    </div>\r\n                    <div>\r\n                        <label for=\"password\">Password</label><br />\r\n                        <input \r\n                            type=\"password\" \r\n                            id=\"password\" \r\n                            name=\"password\" \r\n                            value={user[1].password} \r\n                            onChange={this.onChangePassword}\r\n                            required \r\n                        />\r\n                    </div>\r\n                    <div>\r\n                        <button>\r\n                            <span>Login</span>\r\n                            { this.redirect && <Redirect to=\"/\" />}\r\n                        </button>\r\n                    </div>\r\n                    <div>\r\n                        <span>Are you new? </span>\r\n                        <a href=\"/create\">Sign Up</a>\r\n                    </div>\r\n                </form>\r\n            </Container>\r\n        );\r\n    }\r\n}\r\n\r\n// function useQuery() {\r\n//     return new URLSearchParams(useLocation().search);\r\n// }\r\n\r\n// function Validate() {\r\n//     let query = useQuery();\r\n//     let name = query.get('name');\r\n//     let password = query.get('password');\r\n\r\n//     return (\r\n//         <div>\r\n//             <BookContext.Consumer>\r\n//                 {({ users }) => {\r\n//                     var user = users.find(user => user.name === name);\r\n//                     if (!user) {\r\n//                         return <Alert color=\"danger\">User is not exist</Alert>\r\n//                     }\r\n\r\n//                     if (user.password !== password) {\r\n//                         return <Alert color=\"danger\">Wrong password</Alert>\r\n//                     }  \r\n\r\n//                     return <Redirect to=\"/\" />\r\n//                 }}\r\n//             </BookContext.Consumer>\r\n//         </div>\r\n//     );\r\n// }"]},"metadata":{},"sourceType":"module"}